(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,a,t){e.exports=t.p+"static/media/egg.cee197da.png"},30:function(e,a,t){},32:function(e,a,t){e.exports=t(50)},37:function(e,a,t){},47:function(e,a,t){},48:function(e,a,t){},50:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(20),o=t.n(c),i=(t(37),t(24)),l=t(11),s=t(3),u=t(13),m=t(14),d=t(16),p=t(15),f=t(9),E=t.n(f),g=t(5),h=t(22),v=t.n(h),y=(t(30),t(26)),O=t.n(y);function b(e){var a=new Date(e.date);return r.a.createElement("div",{className:"heading"},r.a.createElement("img",{src:O.a,alt:"egg"}),r.a.createElement("div",null,r.a.createElement("h1",null,e.teamName),r.a.createElement("h2",null,"Sprint Planning"),r.a.createElement("h3",null,"".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate()))),r.a.createElement("img",{src:O.a,alt:"egg"}))}t(47),t(48);var N=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r)))._onChangeD=function(a){var t=a.target.value?parseFloat(a.target.value):parseFloat(0);0<=t&&e.props.setDays(e.props.id,t)},e._onChangeH=function(a){var t=a.target.value?parseFloat(a.target.value):parseFloat(0);0<=t&&e.props.setHours(e.props.id,t)},e._onChangeEff=function(a){var t=a.target.value?parseFloat(a.target.value):parseFloat(0);0<=t&&t<=100&&e.props.setEfficiency(e.props.id,t)},e._onMinusClick=function(){e.props.deleteMate(e.props.id)},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props,a=e.mate,t=e.edit,n=(8*a.d+a.h)*a.efficiency/100*(100-this.props.emergency)/100;return r.a.createElement("div",{className:"teammate"},r.a.createElement("div",{className:"column"},t&&r.a.createElement(E.a,{iconName:"times",className:"minus",onClick:this._onMinusClick}),a.name,r.a.createElement("span",{className:"hours4every"},"(",parseInt(n)," h)")),r.a.createElement("div",{className:"column"},r.a.createElement("input",{type:"number",value:a.d,min:0,max:100,onChange:this._onChangeD}),r.a.createElement("span",null,"d"),r.a.createElement("input",{type:"number",value:a.h,min:0,max:100,onChange:this._onChangeH}),r.a.createElement("span",null,"h")),r.a.createElement("div",{className:"column"},r.a.createElement("input",{type:"number",value:a.efficiency,min:0,max:100,onChange:this._onChangeEff}),r.a.createElement("span",null,"%")))}}]),t}(r.a.Component),_=Object(l.b)(function(e,a){return{mate:e.mates[a.id]}},function(e){return{setDays:function(a,t){return e(function(e,a){return{type:"SET_DAYS",id:e,days:a}}(a,t))},setHours:function(a,t){return e(function(e,a){return{type:"SET_HOURS",id:e,hours:a}}(a,t))},setEfficiency:function(a,t){return e(function(e,a){return{type:"SET_EFFICIENCY",id:e,efficiency:a}}(a,t))},deleteMate:function(a){return e(function(e){return{type:"DELETE_MATE",id:e}}(a))}}})(N);function j(e,a,t){var n=0;return Object(g.forEach)(a,function(a){if(e[a]){var t=e[a],r=(t.h+8*t.d)*t.efficiency/100;n+=r}}),n*(100-t)/100}var w=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=a.call.apply(a,[this].concat(c))).inputRef=r.a.createRef(),e.state={editMode:!1},e._onChangeEmergency=function(a){var t=a.target.value?parseFloat(a.target.value):parseFloat(0);0<=t&&t<=100&&e.props.setEmergency(e.props.groupId,t)},e._editMode=function(){e.setState(function(e){return{editMode:!e.editMode}})},e._onKeyDown=function(a){"Enter"===a.key&&e._onPlusClick()},e._screen=function(a){var t=window.scrollY;window.scrollTo(0,0),v()(document.querySelector("#".concat(a))).then(function(t){var n=t.toDataURL(),r=document.createElement("a"),c=new Date(e.props.date);r.download="sprintPlanning_".concat(a,"_").concat(c.getFullYear(),"-").concat(c.getMonth()+1,"-").concat(c.getDate()),r.href=n,r.click()}),window.scrollTo(0,t)},e._onPlusClick=function(){for(var a=e.inputRef.current.value.toLocaleLowerCase();Object(g.find)(e.props.allMates,function(e,t){return t===a});)a+="_";e.props.addMate(a,e.inputRef.current.value,e.props.groupId),e.inputRef.current.value=""},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.editMode,n=a.inputName,c=this.props,o=c.mates,i=c.name,l=c.emergency,s=c.allMates,u=[];Object(g.forEach)(o,function(e){Object(g.find)(s,function(a,t){return t===e})&&u.push(r.a.createElement(_,{key:e,id:e,edit:t,emergency:l}))});var m=j(s,o,l);return r.a.createElement("div",{id:i.toLowerCase().replace("-",""),className:"hoursPlanning"},r.a.createElement("div",{className:"title-end"},r.a.createElement("h3",null,i),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(E.a,{iconName:"camera",className:"icon",onClick:function(){return e._screen(i.toLowerCase().replace("-",""))}}),r.a.createElement(E.a,{iconName:"pencil-alt",className:"icon",onClick:this._editMode}))),r.a.createElement("div",{className:"tableHeader"},r.a.createElement("span",{className:"column name"},"Nome"),r.a.createElement("span",{className:"column"},"Ore lavorative"),r.a.createElement("span",{className:"column"},"Efficienza"),r.a.createElement("span",{className:"column"},"Emergenza")),r.a.createElement("div",{className:"tableContent"},r.a.createElement("div",{className:"team"},u),r.a.createElement("div",{className:"column emergency"},r.a.createElement("span",null,"-"),r.a.createElement("input",{type:"number",value:l,min:0,max:100,onChange:this._onChangeEmergency}),r.a.createElement("span",null,"%"))),t&&r.a.createElement("div",{className:"add"},r.a.createElement(E.a,{iconName:"plus-circle",className:"plus",onClick:this._onPlusClick}),r.a.createElement("input",{type:"text",value:n,ref:this.inputRef,onKeyDown:this._onKeyDown})),r.a.createElement("div",{className:"total"},r.a.createElement("p",null,"Totale: ",parseInt(m)," h")))}}]),t}(r.a.Component),C=Object(l.b)(function(e,a){return{allMates:e.mates,name:e.groups[a.groupId].name,mates:e.groups[a.groupId].mates,emergency:e.groups[a.groupId].emergency,date:e.info.date}},function(e){return{setEmergency:function(a,t){return e(function(e,a){return{type:"SET_EMERGENCY",groupId:e,emergency:a}}(a,t))},addMate:function(a,t,n){return e(function(e,a,t){return{type:"ADD_MATE",id:e,name:a,groupId:t}}(a,t,n))}}})(w),D=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=a.call.apply(a,[this].concat(c))).fileRef=r.a.createRef(),e.state={fileJSON:null},e.fileReader=new FileReader,e._importClick=function(){e.fileRef.current.click()},e._onChangeFile=function(a){a.stopPropagation(),a.preventDefault();var t=a.target.files[0];e.fileReader.readAsText(t)},e._downloadClick=function(){v()(document.querySelector("#print")).then(function(a){var t=a.toDataURL(),n=document.createElement("a"),r=new Date(e.props.date);n.download="sprintPlanning_".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate()),n.href=t,n.click()})},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fileReader.onload=function(a){try{var t=JSON.parse(a.target.result);e.setState(function(){return{fileJSON:t}})}catch(n){console.error(n)}},this.fileReader.onerror=function(e){console.error(e)}}},{key:"componentWillUpdate",value:function(e,a,t){if(this.state.fileJSON!==a.fileJSON)if(a.fileJSON.hasOwnProperty("people")){var n=function(e){var a={teamName:e.teamName||"DreamTeam",date:e.date||Date.now()},t=e.people,n={};if(e.hasOwnProperty("groups"))n=e.groups;else{var r=[];Object(g.forEach)(t,function(e,a){return r.push(a)}),n={group1:{name:e.teamName||"Team",mates:r,emergency:0}}}return{info:a,groups:n,mates:t}}(a.fileJSON),r=n.info,c=n.groups,o=n.mates;this.props.setTeam(r,c,o)}else console.error("Invalid json")}},{key:"render",value:function(){var e=this.props,a=e.teamName,t=e.groups,c=e.mates,o=e.date,i=Object(g.map)(t,function(e,a){return r.a.createElement(C,{groupId:a,key:a})}),l=0;return Object(g.forEach)(t,function(e){l+=j(c,e.mates,e.emergency)}),r.a.createElement("div",{className:"page",id:"print"},r.a.createElement(b,{teamName:a,date:o}),r.a.createElement("div",{className:"actionIcons"},r.a.createElement("div",{className:"action",onClick:this._importClick},r.a.createElement(E.a,{iconName:"upload",className:"actionIcon"}),r.a.createElement("span",null,"Upload JSON"),r.a.createElement("input",{type:"file",accept:".json",ref:this.fileRef,style:{display:"none"},onChange:this._onChangeFile})),r.a.createElement("div",{className:"action",onClick:this._downloadClick},r.a.createElement(E.a,{iconName:"download",className:"actionIcon"}),r.a.createElement("span",null,"Download as PNG"))),r.a.createElement("div",{className:"sprintPlanning"},r.a.createElement(n.Fragment,null,i),r.a.createElement("div",{className:"recap"},"Totale: ",parseInt(l)," h")))}}]),t}(r.a.Component),T=Object(l.b)(function(e){return{teamName:e.info.teamName,mates:e.mates,groups:e.groups,date:e.info.date}},function(e){return{setTeam:function(a,t,n){return e(function(e,a,t){return{type:"SET_TEAM",info:e,groups:a,mates:t}}(a,t,n))}}})(D),S={MAIN:"/ScrambledEggs-SprintPlanning/"};var k=function(){return[r.a.createElement(s.a,{path:S.MAIN,exact:!0,component:T,key:"homepage"})]},M=t(18),I=t(10),R=t(2),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_TEAM":return Object(R.a)({},a.mates);case"SET_DAYS":var t=Object(R.a)({},e[a.id]);return t.d=a.days,Object(R.a)(Object(R.a)({},e),{},Object(I.a)({},a.id,t));case"SET_HOURS":var n=Object(R.a)({},e[a.id]);return n.h=a.hours,Object(R.a)(Object(R.a)({},e),{},Object(I.a)({},a.id,n));case"SET_EFFICIENCY":var r=Object(R.a)({},e[a.id]);return r.efficiency=a.efficiency,Object(R.a)(Object(R.a)({},e),{},Object(I.a)({},a.id,r));case"ADD_MATE":var c=Object(R.a)({},e);return c[a.id]={name:a.name,d:0,h:0,efficiency:100},Object(R.a)({},c);case"DELETE_MATE":var o=Object(R.a)({},e);return delete o[a.id],Object(R.a)({},o);default:return e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_TEAM":return Object(R.a)({},a.info);default:return e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_TEAM":return Object(R.a)({},a.groups);case"SET_EMERGENCY":var t=Object(R.a)({},e[a.groupId]);return t.emergency=a.emergency,Object(R.a)(Object(R.a)({},e),{},Object(I.a)({},a.groupId,t));case"ADD_MATE":var n=Object(R.a)({},e[a.groupId]);return n.mates.push(a.id),Object(R.a)(Object(R.a)({},e),{},Object(I.a)({},a.groupId,n));case"DELETE_MATE":var r=Object(R.a)({},e);return Object(g.forEach)(r,function(e,t){Object(g.remove)(e.mates,function(e){return e===a.id}),0===e.mates.length&&delete r[t]}),Object(R.a)({},r);default:return e}},L={info:{teamName:"Scrambled Eggs",date:Date.now()},mates:{cataldo:{name:"Cataldo",d:10,h:0,efficiency:50},lisa:{name:"Lisa",d:6,h:0,efficiency:80},dennis:{name:"Dennis",d:10,h:0,efficiency:80},davideP:{name:"Davide P.",d:10,h:0,efficiency:80},alberto:{name:"Alberto",d:10,h:0,efficiency:80},federico:{name:"Federico",d:10,h:0,efficiency:80},niccolo:{name:"Niccol\xf2",d:10,h:0,efficiency:80},noman:{name:"Noman",d:10,h:0,efficiency:80},perla:{name:"Perla",d:5,h:0,efficiency:80}},groups:{frontend:{name:"Front-end",mates:["cataldo","lisa","dennis"],emergency:20},backend:{name:"Back-end",mates:["davideP","alberto","federico","niccolo","perla","noman"],emergency:20}}};var x=function(){var e=function(){var e=Object(M.b)({info:F,mates:A,groups:P});return Object(M.c)(e,L,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}();return r.a.createElement(l.a,{store:e},r.a.createElement(i.a,null,r.a.createElement(k,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.e17c1652.chunk.js.map